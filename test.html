<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>HotGirl.social</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://js.stripe.com/v3/"></script>
<style>
:root {
  --primary: #f43f5e;
  --primary-hover: #e11d48;
  --bg-light: #fef2f2;
  --text-dark: #333;
  --text-muted: #666;
  --radius: 10px;
  --overlay-bg: rgba(0,0,0,0.8);
}

/* ===== Base Layout ===== */
body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  background-color: var(--bg-light);
  color: var(--text-dark);
  line-height: 1.5;
}

.container {
  max-width: 500px;
  margin: 0 auto;
  padding: 20px;
  text-align: center;
}

.logo {
  max-width: 140px;
  margin: 0 auto 15px;
  display: block;
}

h1 {
  font-size: 1.9rem;
  margin: 10px 0;
  font-weight: 700;
}

.subheadline {
  font-size: 1rem;
  margin-bottom: 20px;
  color: var(--text-muted);
}

/* ===== Buttons ===== */
.btn-primary {
  background: linear-gradient(45deg, #667eea, #764ba2);
  color: white;
  border: none;
  border-radius: 6px;
  padding: 12px;
  font-weight: bold;
  cursor: pointer;
  flex: 1;
  transition: all 0.2s ease;
}
.btn-primary:hover { opacity: 0.9; }
.btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }

.btn-danger {
  background: #ff4444;
  color: white;
  border: none;
  border-radius: 6px;
  padding: 12px;
  font-weight: bold;
  cursor: pointer;
  flex: 1;
}
.btn-danger:hover { background: #e03c3c; }

.cta-btn {
  display: inline-block;
  background-color: var(--primary);
  color: white;
  padding: 15px 20px;
  font-size: 1.1rem;
  font-weight: 600;
  border-radius: 999px;
  text-decoration: none;
  width: 100%;
  box-sizing: border-box;
  transition: transform 0.2s ease, background-color 0.2s ease;
}
.cta-btn:hover {
  transform: translateY(-2px);
  background-color: var(--primary-hover);
}

.sticky-cta {
  position: sticky;
  bottom: 20px;
  background: var(--bg-light);
  padding: 10px 0;
  z-index: 999;
}

/* ===== Benefits ===== */
.benefits {
  text-align: left;
  margin: 30px 0;
  font-size: 0.95rem;
  padding-left: 0;
  list-style: none;
}
.benefits li {
  margin-bottom: 10px;
  padding-left: 25px;
  position: relative;
}
.benefits li::before {
  content: "✅";
  position: absolute;
  left: 0;
  top: 0;
}

/* ===== Testimonial ===== */
.testimonial {
  font-style: italic;
  font-size: 0.9rem;
  color: var(--text-muted);
  margin: 20px 0;
  padding: 15px;
  background-color: #fff;
  border-radius: var(--radius);
  border: 1px solid #fcdada;
  display: flex;
  align-items: center;
  gap: 10px;
}
.testimonial img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
}

.login-link, .footer-link {
  display: block;
  margin-top: 10px;
  font-size: 0.9rem;
  color: var(--text-muted);
  text-decoration: none;
}
.login-link:hover, .footer-link:hover { text-decoration: underline; }

.scroll-cue {
  font-size: 1.5rem;
  margin-top: 15px;
  animation: bounce 1.5s infinite;
}
@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(5px); }
}

/* ===== Unified Modal ===== */
.app-modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: var(--overlay-bg);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease forwards;
}
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
.app-modal.fade-out {
  animation: fadeOut 0.2s ease forwards;
}
@keyframes fadeOut {
  from { opacity: 1; transform: scale(1); }
  to { opacity: 0; transform: scale(0.95); }
}

.app-modal-content {
  background: white;
  padding: 30px;
  border-radius: var(--radius);
  max-width: 500px;
  width: 90%;
  position: relative;
}
.app-modal-content.scrollable {
  max-height: 80vh;
  overflow-y: auto;
}
.app-modal-content h2 { margin-top: 0; }
.app-modal-close {
  position: absolute;
  top: 10px;
  right: 12px;
  font-size: 1.5rem;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-muted);
}
.modal-actions {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}
input, textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 6px;
  box-sizing: border-box;
  font-size: 16px;
  margin-bottom: 15px;
}
input:focus, textarea:focus {
  border-color: var(--primary);
  outline: none;
}

/* ===== Scroll to Top Button ===== */
.scroll-top-btn {
  position: fixed;
  bottom: 80px;
  right: 20px;
  background: linear-gradient(45deg, #667eea, #764ba2);
  color: white;
  border: none;
  padding: 12px 16px;
  border-radius: 50%;
  font-size: 1.2rem;
  cursor: pointer;
  display: none;
  z-index: 1000;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  transition: opacity 0.2s ease, transform 0.2s ease;
}
.scroll-top-btn:hover {
  opacity: 0.9;
  transform: translateY(-2px);
}
</style>
</head>
<body>

<div class="container">
  <img src="/assets/logo10.png" alt="HotGirl.social Logo" class="logo" />
  <h1>Own Your Link Forever. One Time Payment.</h1>
  <p class="subheadline">No subscriptions. No upsells. No distractions.</p>

  <!-- Payment CTA -->
  <a class="cta-btn checkout-button" href="#">Start Now — $20 One Time</a>

  <div class="scroll-cue">⬇️</div>

  <ul class="benefits">
    <li>One-time payment — lifetime membership</li>
    <li>Unlimited social links & analytics</li>
    <li>Custom profile page & bio</li>
    <li>Profile picture upload</li>
    <li>No monthly fees, no nagging emails</li>
  </ul>

  <div class="testimonial">
    <img src="/assets/user1.jpg" alt="User Photo" />
    "I had my profile up in 5 minutes. Already seeing more clicks than Linktree." — @hannahdeluxe
  </div>

  <!-- Sticky CTA -->
  <div class="sticky-cta">
    <a class="cta-btn checkout-button" href="#">Start Now — $20 One Time</a>
  </div>

  <!-- Footer Links -->
  <a href="#" class="login-link" id="open-login">Already a member? Log in →</a>
  <a href="#" class="footer-link" id="open-contact">Contact Us</a>
  <a href="#" class="footer-link" id="open-privacy">Privacy Policy</a>
  <a href="#" class="footer-link" id="open-terms">Terms of Service</a>
</div>

<!-- Modal container -->
<div id="modal-container" style="display:none;"></div>

<!-- Scroll to Top Button -->
<button id="scrollTopBtn" class="scroll-top-btn" aria-label="Scroll to top">↑</button>

<script>
const stripe = Stripe('pk_test_51RoD4t2Hj566duWcRxvEvVdnaQg3wDLd3XesTLLrRED7FHiwkEXcm1YukrjQW7ayFTL9XZCd7QtczlGgHF3y2iw800jq3b4GL8');

// === Event Listeners ===
document.querySelectorAll('.checkout-button').forEach(btn => {
  btn.addEventListener('click', e => { e.preventDefault(); showPaymentModal(); });
});
document.getElementById('open-login').addEventListener('click', e => { e.preventDefault(); showLoginModal(); });
document.getElementById('open-contact').addEventListener('click', e => { e.preventDefault(); showContactModal(); });
document.getElementById('open-privacy').addEventListener('click', e => { e.preventDefault(); showPrivacyModal(); });
document.getElementById('open-terms').addEventListener('click', e => { e.preventDefault(); showTermsModal(); });

// === Scroll to Top Button Logic ===
const scrollTopBtn = document.getElementById('scrollTopBtn');
window.addEventListener('scroll', () => {
  scrollTopBtn.style.display = window.scrollY > 300 ? 'block' : 'none';
});
scrollTopBtn.addEventListener('click', () => {
  window.scrollTo({ top: 0, behavior: 'smooth' });
});

// === Unified Modal Functions ===
function openModal(contentHTML, scrollable = false) {
  const modalContainer = document.getElementById('modal-container');
  modalContainer.innerHTML = `
    <div class="app-modal" role="dialog" aria-modal="true">
      <div class="app-modal-content ${scrollable ? 'scrollable' : ''}">
        <button class="app-modal-close" aria-label="Close">&times;</button>
        ${contentHTML}
      </div>
    </div>
  `;
  modalContainer.style.display = 'block';

  const modalEl = modalContainer.querySelector('.app-modal');
  modalContainer.querySelector('.app-modal-close').addEventListener('click', closeModal);
  modalEl.addEventListener('click', e => { if (e.target.classList.contains('app-modal')) closeModal(); });
  document.addEventListener('keydown', function escHandler(e) {
    if (e.key === 'Escape') { closeModal(); document.removeEventListener('keydown', escHandler); }
  });
  const focusable = modalEl.querySelectorAll('input, button, textarea');
  if (focusable.length) focusable[0].focus();
}

function closeModal() {
  const modalContainer = document.getElementById('modal-container');
  const modal = modalContainer.querySelector('.app-modal');
  if (modal) {
    modal.classList.add('fade-out');
    setTimeout(() => { modalContainer.style.display = 'none'; modalContainer.innerHTML = ''; }, 200);
  }
}

// === Modals ===
function showPaymentModal() {
  openModal(`
    <h2>Almost there! Choose your username</h2>
    <label>Email:</label>
    <input type="email" id="modal-email" required placeholder="your@email.com">
    <label>Username:</label>
    <input type="text" id="modal-username" required placeholder="yourname">
    <div id="username-status" style="margin-top:5px;font-size:14px;"></div>
    <div class="modal-actions">
      <button id="modal-continue" class="btn-primary" disabled>Continue to Payment</button>
      <button id="modal-cancel" class="btn-danger">Cancel</button>
    </div>
  `);
  setupUsernameValidation();
  document.getElementById('modal-cancel').addEventListener('click', closeModal);
}
function showLoginModal() {
  openModal(`
    <h2>Member Login</h2>
    <label>Email:</label>
    <input type="email" id="login-email" required placeholder="you@email.com">
    <label>Password:</label>
    <input type="password" id="login-password" required placeholder="Your password">
    <div class="modal-actions">
      <button id="login-submit" class="btn-primary">Login</button>
      <button id="modal-cancel" class="btn-danger">Cancel</button>
    </div>
  `);
  document.getElementById('modal-cancel').addEventListener('click', closeModal);
}
function showContactModal() {
  openModal(`
    <h2>Contact Us</h2>
    <label>Name:</label>
    <input type="text" id="contact-name" required placeholder="Your name">
    <label>Email:</label>
    <input type="email" id="contact-email" required placeholder="you@email.com">
    <label>Message:</label>
    <textarea id="contact-message" rows="4"></textarea>
    <div class="modal-actions">
      <button id="contact-submit" class="btn-primary">Send</button>
      <button id="modal-cancel" class="btn-danger">Cancel</button>
    </div>
  `);
  document.getElementById('modal-cancel').addEventListener('click', closeModal);
}
function showPrivacyModal() {
  openModal(`
    <h2>Privacy Policy</h2>
    <p>Your privacy is important to us. This policy explains how we handle your data...</p>
    <p>We do not sell or share your personal information with third parties...</p>
    <p>[Insert full privacy policy text here]</p>
    <div class="modal-actions">
      <button id="modal-cancel" class="btn-danger">Close</button>
    </div>
  `, true);
  document.getElementById('modal-cancel').addEventListener('click', closeModal);
}
function showTermsModal() {
  openModal(`
    <h2>Terms of Service</h2>
    <p>By using HotGirl.social, you agree to the following terms...</p>
    <p>You must be at least 18 years old to use this service...</p>
    <p>[Insert full terms of service text here]</p>
    <div class="modal-actions">
      <button id="modal-cancel" class="btn-danger">Close</button>
    </div>
  `, true);
  document.getElementById('modal-cancel').addEventListener('click', closeModal);
}

// === Payment Modal Logic (Untouched) ===
function setupUsernameValidation() {
  const usernameInput = document.getElementById('modal-username');
  const emailInput = document.getElementById('modal-email');
  const continueBtn = document.getElementById('modal-continue');
  const statusDiv = document.getElementById('username-status');
  let checkTimeout;
  function checkInputs() {
    const emailValid = emailInput.value.includes('@');
    const usernameValid = usernameInput.value.length >= 3;
    continueBtn.disabled = !(emailValid && usernameValid);
  }
  usernameInput.addEventListener('input', () => {
    clearTimeout(checkTimeout);
    if (usernameInput.value.length < 3) {
      statusDiv.innerHTML = '<span style="color:#dc3545;">Username must be at least 3 characters</span>';
      checkInputs(); return;
    }
    statusDiv.innerHTML = '<span style="color:#007bff;">Checking availability...</span>';
    checkTimeout = setTimeout(() => { checkUsernameAvailability(usernameInput.value); }, 500);
    checkInputs();
  });
  emailInput.addEventListener('input', checkInputs);
  continueBtn.addEventListener('click', () => {
    proceedToCheckout(emailInput.value, usernameInput.value);
    closeModal();
  });
}
async function checkUsernameAvailability(username) {
  const statusDiv = document.getElementById('username-status');
  try {
    const response = await fetch('/check-username', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ username })
    });
    const result = await response.json();
    statusDiv.innerHTML = result.available
      ? '<span style="color:#28a745;">✓ Username available!</span>'
      : '<span style="color:#dc3545;">✗ Username taken</span>';
  } catch {
    statusDiv.innerHTML = '<span style="color:#ffc107;">⚠ Error checking availability</span>';
  }
}
async function proceedToCheckout(email, username) {
  const continueBtn = document.getElementById('modal-continue');
  continueBtn.innerHTML = 'Processing...';
  continueBtn.disabled = true;
  try {
    const response = await fetch('/create-checkout-session', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, username })
    });
    if (!response.ok) throw new Error('Network error');
    const session = await response.json();
    const result = await stripe.redirectToCheckout({ sessionId: session.id });
    if (result.error) throw new Error(result.error.message);
  } catch (error) {
    alert('Error: ' + error.message);
    continueBtn.innerHTML = 'Continue to Payment';
    continueBtn.disabled = false;
  }
}
</script>
</body>
</html>
